{"ast":null,"code":"import axios from'./axiosConfig';// Adjust the path as necessary\nconst checkTokenExpiration=()=>{const token=localStorage.getItem('token');if(!token)return false;const payload=JSON.parse(atob(token.split('.')[1]));const expiry=payload.exp*1000;return Date.now()<expiry;};const handleLogin=async(email,password)=>{try{const response=await axios.post('/api/login',{email,password});localStorage.setItem('token',response.data.token);window.location.href='/home';}catch(error){console.error('Login failed:',error);}};const handleLogout=()=>{localStorage.removeItem('token');window.location.href='/login';};export{checkTokenExpiration,handleLogin,handleLogout};","map":{"version":3,"names":["axios","checkTokenExpiration","token","localStorage","getItem","payload","JSON","parse","atob","split","expiry","exp","Date","now","handleLogin","email","password","response","post","setItem","data","window","location","href","error","console","handleLogout","removeItem"],"sources":["C:/xampp/htdocs/task/frontend/src/components/authUtils.js"],"sourcesContent":["import axios from './axiosConfig'; // Adjust the path as necessary\r\n\r\nconst checkTokenExpiration = () => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token) return false;\r\n\r\n  const payload = JSON.parse(atob(token.split('.')[1]));\r\n  const expiry = payload.exp * 1000;\r\n  return Date.now() < expiry;\r\n};\r\n\r\nconst handleLogin = async (email, password) => {\r\n  try {\r\n    const response = await axios.post('/api/login', { email, password });\r\n    localStorage.setItem('token', response.data.token);\r\n    window.location.href = '/home';\r\n  } catch (error) {\r\n    console.error('Login failed:', error);\r\n  }\r\n};\r\n\r\nconst handleLogout = () => {\r\n  localStorage.removeItem('token');\r\n  window.location.href = '/login';\r\n};\r\n\r\nexport { checkTokenExpiration, handleLogin, handleLogout };"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,eAAe,CAAE;AAEnC,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,MAAK,CAExB,KAAM,CAAAG,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACrD,KAAM,CAAAC,MAAM,CAAGL,OAAO,CAACM,GAAG,CAAG,IAAI,CACjC,MAAO,CAAAC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGH,MAAM,CAC5B,CAAC,CAED,KAAM,CAAAI,WAAW,CAAG,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,GAAK,CAC7C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAC,YAAY,CAAE,CAAEH,KAAK,CAAEC,QAAS,CAAC,CAAC,CACpEb,YAAY,CAACgB,OAAO,CAAC,OAAO,CAAEF,QAAQ,CAACG,IAAI,CAAClB,KAAK,CAAC,CAClDmB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,OAAO,CAChC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CACF,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzBvB,YAAY,CAACwB,UAAU,CAAC,OAAO,CAAC,CAChCN,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CAAC,CAED,OAAStB,oBAAoB,CAAEa,WAAW,CAAEY,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}