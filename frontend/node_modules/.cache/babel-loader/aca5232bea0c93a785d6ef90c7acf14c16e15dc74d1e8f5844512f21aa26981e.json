{"ast":null,"code":"import React,{useState}from'react';import axios from'./axiosConfig';// Adjust the path as necessary\nimport'./Form.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterForm=_ref=>{let{toggleForm}=_ref;const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[errors,setErrors]=useState({});const validateForm=()=>{const newErrors={};if(name.length>50)newErrors.name='Name must be less than 50 characters';if(!/\\S+@\\S+\\.\\S+/.test(email))newErrors.email='Email must be valid';if(password!==confirmPassword)newErrors.confirmPassword='Passwords must match';if(!/(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.*[a-zA-Z]).{8,}/.test(password)){newErrors.password='Password must be at least 8 characters long, contain at least one uppercase letter, and at least two special characters';}return newErrors;};const handleSubmit=async e=>{e.preventDefault();const validationErrors=validateForm();if(Object.keys(validationErrors).length>0){setErrors(validationErrors);return;}try{await axios.post('/api/register',{name,email,password});toggleForm();// Redirect to login form\n}catch(error){setErrors({api:'Registration failed. Please try again.'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value)}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.name}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value)}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.confirmPassword}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Register\"}),errors.api&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.api})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:toggleForm,className:\"toggle-link\",children:\"Login\"})]})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","RegisterForm","_ref","toggleForm","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","errors","setErrors","validateForm","newErrors","length","test","handleSubmit","e","preventDefault","validationErrors","Object","keys","post","error","api","className","children","onSubmit","type","placeholder","value","onChange","target","onClick"],"sources":["C:/xampp/htdocs/task/frontend/src/components/RegisterForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from './axiosConfig'; // Adjust the path as necessary\r\nimport './Form.css';\r\n\r\nconst RegisterForm = ({ toggleForm }) => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (name.length > 50) newErrors.name = 'Name must be less than 50 characters';\r\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) newErrors.email = 'Email must be valid';\r\n    if (password !== confirmPassword) newErrors.confirmPassword = 'Passwords must match';\r\n    if (!/(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.*[a-zA-Z]).{8,}/.test(password)) {\r\n      newErrors.password = 'Password must be at least 8 characters long, contain at least one uppercase letter, and at least two special characters';\r\n    }\r\n    return newErrors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const validationErrors = validateForm();\r\n    if (Object.keys(validationErrors).length > 0) {\r\n      setErrors(validationErrors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post('/api/register', { name, email, password });\r\n      toggleForm(); // Redirect to login form\r\n    } catch (error) {\r\n      setErrors({ api: 'Registration failed. Please try again.' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h2>Register</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n        {errors.name && <p className=\"error\">{errors.name}</p>}\r\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        {errors.email && <p className=\"error\">{errors.email}</p>}\r\n        <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n        {errors.password && <p className=\"error\">{errors.password}</p>}\r\n        <input type=\"password\" placeholder=\"Confirm Password\" value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} />\r\n        {errors.confirmPassword && <p className=\"error\">{errors.confirmPassword}</p>}\r\n        <button className=\"btn\" type=\"submit\">Register</button>\r\n        {errors.api && <p className=\"error\">{errors.api}</p>}\r\n      </form>\r\n      <p>\r\n        Already have an account? <span onClick={toggleForm} className=\"toggle-link\">Login</span>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}